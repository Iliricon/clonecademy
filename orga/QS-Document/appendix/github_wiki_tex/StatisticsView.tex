\chapter*{StatisticsView}

\section*{Introduction}\label{introduction}

The StatisticsView class is used to get information about the usage
statistics. The get method returns all Try objects, detailing all
questions and the respective answers. The post method saves a new Try
object, when an answer is submitted.

Statistics can be accessed via ``clonecademy/statistics/''

\section*{Method Details}\label{method-details}

\subsection*{\texorpdfstring{`get'}{get}}\label{get}

Header: user id (for permissions and filtering)

Response:

\begin{verbatim}
[{
"question": string "the questions id";
"module": string "The questions module"
"course": string "The questions course"
"solved": boolean True/False;
"date": string "The date of the try"
}]
\end{verbatim}

\subsection*{\texorpdfstring{`post'}{post}}\label{post}

Header: user id (for permissions and filtering)

Post:

\begin{verbatim}
{ 
 "format": string "valid formats are 'csv' or empty for json";
 "id": string "the user ID if the user is not a moderator or a admin this 
 	   must be set;
 "get_courses": any "if this field is set and the current user is a moderator 
  				or admin it will return all courses of which it created;
 "course": number "get the statistics for this course (with prefiltering 
 		   admin moderator id);
 "date": {
          "start": string "the start date for the statistics it has to be the 
          format '%Y-%m-%d %H:%M:%S'";
          "end": string "the end date for the statistics '%Y-%m-%d %H:%M:%S'";
        },
"serialize": string "get more fields of the statistics for example
             question__module__course__id returns a field with the course id"
"order": string "order the tries",
"filter": string "filter the statistics for this class and count the amounts"
}
\end{verbatim}

Response:

\begin{verbatim}
[{
"question": string "the questions id";
"user": string "The User for this try";
"solved": boolean True/False;
"date": string "The date of the try"
}]
\end{verbatim}


